services:

  #Kernel
  Framework\Kernel\HttpKernel:
    public: true
    arguments:
      - '@Symfony\Component\EventDispatcher\EventDispatcher'
      - '@Framework\Controller\ControllerResolver'

  #Router
  Framework\Router\RouterFactory: ~

  Symfony\Component\Routing\Router:
    factory: '@Framework\Router\RouterFactory'
    arguments:
      - '@service_container'

  #ControllerResolver
  Framework\Controller\ControllerResolver:
    arguments:
      - '@service_container'

  #EventDispatcher
  Symfony\Component\EventDispatcher\EventDispatcher: ~

  event_dispatcher: '@Symfony\Component\EventDispatcher\EventDispatcher'

  #Events
  Framework\EventListener\RouterListener:
    arguments:
      - '@Symfony\Component\Routing\Router'
    tags:
      - { name: 'kernel.event_listener', event: Framework\Event\RequestEvent }
